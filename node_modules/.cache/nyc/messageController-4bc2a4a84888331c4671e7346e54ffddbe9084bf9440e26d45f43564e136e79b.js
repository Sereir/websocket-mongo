function cov_210m6w0ihg(){var path="C:\\Users\\Nacim\\Documents\\websocket-mongo\\src\\controllers\\messageController.js";var hash="3633b69117dbfea562976fea2102d35e0e1f007f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Nacim\\Documents\\websocket-mongo\\src\\controllers\\messageController.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:16},end:{line:2,column:44}},"2":{start:{line:3,column:13},end:{line:3,column:38}},"3":{start:{line:6,column:0},end:{line:37,column:2}},"4":{start:{line:7,column:2},end:{line:36,column:3}},"5":{start:{line:8,column:38},end:{line:8,column:52}},"6":{start:{line:9,column:4},end:{line:11,column:5}},"7":{start:{line:10,column:6},end:{line:10,column:70}},"8":{start:{line:12,column:4},end:{line:14,column:5}},"9":{start:{line:13,column:6},end:{line:13,column:63}},"10":{start:{line:15,column:4},end:{line:17,column:5}},"11":{start:{line:16,column:6},end:{line:16,column:77}},"12":{start:{line:19,column:4},end:{line:21,column:5}},"13":{start:{line:20,column:6},end:{line:20,column:95}},"14":{start:{line:23,column:22},end:{line:23,column:69}},"15":{start:{line:24,column:4},end:{line:24,column:87}},"16":{start:{line:24,column:20},end:{line:24,column:87}},"17":{start:{line:26,column:16},end:{line:31,column:6}},"18":{start:{line:33,column:4},end:{line:33,column:37}},"19":{start:{line:35,column:4},end:{line:35,column:61}},"20":{start:{line:40,column:0},end:{line:72,column:2}},"21":{start:{line:41,column:2},end:{line:71,column:3}},"22":{start:{line:42,column:24},end:{line:42,column:34}},"23":{start:{line:43,column:4},end:{line:43,column:103}},"24":{start:{line:43,column:44},end:{line:43,column:103}},"25":{start:{line:45,column:17},end:{line:45,column:65}},"26":{start:{line:46,column:18},end:{line:46,column:20}},"27":{start:{line:47,column:17},end:{line:47,column:35}},"28":{start:{line:49,column:15},end:{line:49,column:27}},"29":{start:{line:50,column:18},end:{line:50,column:54}},"30":{start:{line:52,column:23},end:{line:58,column:5}},"31":{start:{line:61,column:4},end:{line:61,column:118}},"32":{start:{line:63,column:30},end:{line:66,column:6}},"33":{start:{line:68,column:4},end:{line:68,column:80}},"34":{start:{line:70,column:4},end:{line:70,column:61}},"35":{start:{line:75,column:0},end:{line:143,column:2}},"36":{start:{line:76,column:2},end:{line:142,column:3}},"37":{start:{line:77,column:15},end:{line:77,column:27}},"38":{start:{line:80,column:17},end:{line:137,column:6}},"39":{start:{line:139,column:4},end:{line:139,column:26}},"40":{start:{line:141,column:4},end:{line:141,column:61}},"41":{start:{line:146,column:0},end:{line:167,column:2}},"42":{start:{line:147,column:2},end:{line:166,column:3}},"43":{start:{line:148,column:19},end:{line:148,column:29}},"44":{start:{line:149,column:24},end:{line:149,column:38}},"45":{start:{line:150,column:4},end:{line:150,column:93}},"46":{start:{line:150,column:39},end:{line:150,column:93}},"47":{start:{line:151,column:4},end:{line:153,column:5}},"48":{start:{line:152,column:6},end:{line:152,column:63}},"49":{start:{line:154,column:4},end:{line:154,column:102}},"50":{start:{line:154,column:31},end:{line:154,column:102}},"51":{start:{line:156,column:16},end:{line:156,column:42}},"52":{start:{line:157,column:4},end:{line:157,column:76}},"53":{start:{line:157,column:14},end:{line:157,column:76}},"54":{start:{line:158,column:4},end:{line:158,column:105}},"55":{start:{line:158,column:53},end:{line:158,column:105}},"56":{start:{line:160,column:4},end:{line:160,column:33}},"57":{start:{line:161,column:4},end:{line:161,column:22}},"58":{start:{line:162,column:4},end:{line:162,column:21}},"59":{start:{line:163,column:4},end:{line:163,column:25}},"60":{start:{line:165,column:4},end:{line:165,column:61}},"61":{start:{line:170,column:0},end:{line:184,column:2}},"62":{start:{line:171,column:2},end:{line:183,column:3}},"63":{start:{line:172,column:19},end:{line:172,column:29}},"64":{start:{line:173,column:4},end:{line:173,column:93}},"65":{start:{line:173,column:39},end:{line:173,column:93}},"66":{start:{line:174,column:16},end:{line:174,column:42}},"67":{start:{line:175,column:4},end:{line:175,column:76}},"68":{start:{line:175,column:14},end:{line:175,column:76}},"69":{start:{line:176,column:4},end:{line:176,column:105}},"70":{start:{line:176,column:53},end:{line:176,column:105}},"71":{start:{line:178,column:4},end:{line:178,column:23}},"72":{start:{line:179,column:4},end:{line:179,column:21}},"73":{start:{line:180,column:4},end:{line:180,column:34}},"74":{start:{line:182,column:4},end:{line:182,column:61}},"75":{start:{line:187,column:0},end:{line:204,column:2}},"76":{start:{line:188,column:2},end:{line:203,column:3}},"77":{start:{line:189,column:19},end:{line:189,column:29}},"78":{start:{line:190,column:4},end:{line:190,column:93}},"79":{start:{line:190,column:39},end:{line:190,column:93}},"80":{start:{line:192,column:16},end:{line:192,column:42}},"81":{start:{line:193,column:4},end:{line:193,column:76}},"82":{start:{line:193,column:14},end:{line:193,column:76}},"83":{start:{line:194,column:4},end:{line:194,column:108}},"84":{start:{line:194,column:56},end:{line:194,column:108}},"85":{start:{line:196,column:4},end:{line:199,column:5}},"86":{start:{line:197,column:6},end:{line:197,column:26}},"87":{start:{line:198,column:6},end:{line:198,column:23}},"88":{start:{line:200,column:4},end:{line:200,column:34}},"89":{start:{line:202,column:4},end:{line:202,column:61}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:24},end:{line:6,column:25}},loc:{start:{line:6,column:44},end:{line:37,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:40,column:30},end:{line:40,column:31}},loc:{start:{line:40,column:50},end:{line:72,column:1}},line:40},"2":{name:"(anonymous_2)",decl:{start:{line:75,column:27},end:{line:75,column:28}},loc:{start:{line:75,column:47},end:{line:143,column:1}},line:75},"3":{name:"(anonymous_3)",decl:{start:{line:146,column:24},end:{line:146,column:25}},loc:{start:{line:146,column:44},end:{line:167,column:1}},line:146},"4":{name:"(anonymous_4)",decl:{start:{line:170,column:24},end:{line:170,column:25}},loc:{start:{line:170,column:44},end:{line:184,column:1}},line:170},"5":{name:"(anonymous_5)",decl:{start:{line:187,column:19},end:{line:187,column:20}},loc:{start:{line:187,column:39},end:{line:204,column:1}},line:187}},branchMap:{"0":{loc:{start:{line:8,column:38},end:{line:8,column:52}},type:"binary-expr",locations:[{start:{line:8,column:38},end:{line:8,column:46}},{start:{line:8,column:50},end:{line:8,column:52}}],line:8},"1":{loc:{start:{line:9,column:4},end:{line:11,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:11,column:5}},{start:{line:9,column:4},end:{line:11,column:5}}],line:9},"2":{loc:{start:{line:9,column:8},end:{line:9,column:64}},type:"binary-expr",locations:[{start:{line:9,column:8},end:{line:9,column:21}},{start:{line:9,column:25},end:{line:9,column:64}}],line:9},"3":{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:12,column:4},end:{line:14,column:5}}],line:12},"4":{loc:{start:{line:12,column:8},end:{line:12,column:78}},type:"binary-expr",locations:[{start:{line:12,column:8},end:{line:12,column:16}},{start:{line:12,column:20},end:{line:12,column:47}},{start:{line:12,column:51},end:{line:12,column:78}}],line:12},"5":{loc:{start:{line:15,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:17,column:5}},{start:{line:15,column:4},end:{line:17,column:5}}],line:15},"6":{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:19,column:4},end:{line:21,column:5}}],line:19},"7":{loc:{start:{line:24,column:4},end:{line:24,column:87}},type:"if",locations:[{start:{line:24,column:4},end:{line:24,column:87}},{start:{line:24,column:4},end:{line:24,column:87}}],line:24},"8":{loc:{start:{line:43,column:4},end:{line:43,column:103}},type:"if",locations:[{start:{line:43,column:4},end:{line:43,column:103}},{start:{line:43,column:4},end:{line:43,column:103}}],line:43},"9":{loc:{start:{line:45,column:38},end:{line:45,column:59}},type:"binary-expr",locations:[{start:{line:45,column:38},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:59}}],line:45},"10":{loc:{start:{line:149,column:24},end:{line:149,column:38}},type:"binary-expr",locations:[{start:{line:149,column:24},end:{line:149,column:32}},{start:{line:149,column:36},end:{line:149,column:38}}],line:149},"11":{loc:{start:{line:150,column:4},end:{line:150,column:93}},type:"if",locations:[{start:{line:150,column:4},end:{line:150,column:93}},{start:{line:150,column:4},end:{line:150,column:93}}],line:150},"12":{loc:{start:{line:151,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:153,column:5}},{start:{line:151,column:4},end:{line:153,column:5}}],line:151},"13":{loc:{start:{line:151,column:8},end:{line:151,column:78}},type:"binary-expr",locations:[{start:{line:151,column:8},end:{line:151,column:16}},{start:{line:151,column:20},end:{line:151,column:47}},{start:{line:151,column:51},end:{line:151,column:78}}],line:151},"14":{loc:{start:{line:154,column:4},end:{line:154,column:102}},type:"if",locations:[{start:{line:154,column:4},end:{line:154,column:102}},{start:{line:154,column:4},end:{line:154,column:102}}],line:154},"15":{loc:{start:{line:157,column:4},end:{line:157,column:76}},type:"if",locations:[{start:{line:157,column:4},end:{line:157,column:76}},{start:{line:157,column:4},end:{line:157,column:76}}],line:157},"16":{loc:{start:{line:158,column:4},end:{line:158,column:105}},type:"if",locations:[{start:{line:158,column:4},end:{line:158,column:105}},{start:{line:158,column:4},end:{line:158,column:105}}],line:158},"17":{loc:{start:{line:173,column:4},end:{line:173,column:93}},type:"if",locations:[{start:{line:173,column:4},end:{line:173,column:93}},{start:{line:173,column:4},end:{line:173,column:93}}],line:173},"18":{loc:{start:{line:175,column:4},end:{line:175,column:76}},type:"if",locations:[{start:{line:175,column:4},end:{line:175,column:76}},{start:{line:175,column:4},end:{line:175,column:76}}],line:175},"19":{loc:{start:{line:176,column:4},end:{line:176,column:105}},type:"if",locations:[{start:{line:176,column:4},end:{line:176,column:105}},{start:{line:176,column:4},end:{line:176,column:105}}],line:176},"20":{loc:{start:{line:190,column:4},end:{line:190,column:93}},type:"if",locations:[{start:{line:190,column:4},end:{line:190,column:93}},{start:{line:190,column:4},end:{line:190,column:93}}],line:190},"21":{loc:{start:{line:193,column:4},end:{line:193,column:76}},type:"if",locations:[{start:{line:193,column:4},end:{line:193,column:76}},{start:{line:193,column:4},end:{line:193,column:76}}],line:193},"22":{loc:{start:{line:194,column:4},end:{line:194,column:108}},type:"if",locations:[{start:{line:194,column:4},end:{line:194,column:108}},{start:{line:194,column:4},end:{line:194,column:108}}],line:194},"23":{loc:{start:{line:196,column:4},end:{line:199,column:5}},type:"if",locations:[{start:{line:196,column:4},end:{line:199,column:5}},{start:{line:196,column:4},end:{line:199,column:5}}],line:196}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3633b69117dbfea562976fea2102d35e0e1f007f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_210m6w0ihg=function(){return actualCoverage;};}return actualCoverage;}cov_210m6w0ihg();const mongoose=(cov_210m6w0ihg().s[0]++,require('mongoose'));const Message=(cov_210m6w0ihg().s[1]++,require('../models/Message'));const User=(cov_210m6w0ihg().s[2]++,require('../models/User'));// POST /api/messages
cov_210m6w0ihg().s[3]++;exports.createMessage=async(req,res)=>{cov_210m6w0ihg().f[0]++;cov_210m6w0ihg().s[4]++;try{const{recipient_id,content}=(cov_210m6w0ihg().s[5]++,(cov_210m6w0ihg().b[0][0]++,req.body)||(cov_210m6w0ihg().b[0][1]++,{}));cov_210m6w0ihg().s[6]++;if((cov_210m6w0ihg().b[2][0]++,!recipient_id)||(cov_210m6w0ihg().b[2][1]++,!mongoose.isValidObjectId(recipient_id))){cov_210m6w0ihg().b[1][0]++;cov_210m6w0ihg().s[7]++;return res.status(400).json({error:'recipient_id invalide'});}else{cov_210m6w0ihg().b[1][1]++;}cov_210m6w0ihg().s[8]++;if((cov_210m6w0ihg().b[4][0]++,!content)||(cov_210m6w0ihg().b[4][1]++,typeof content!=='string')||(cov_210m6w0ihg().b[4][2]++,content.trim().length===0)){cov_210m6w0ihg().b[3][0]++;cov_210m6w0ihg().s[9]++;return res.status(400).json({error:'contenu requis'});}else{cov_210m6w0ihg().b[3][1]++;}cov_210m6w0ihg().s[10]++;if(content.length>5000){cov_210m6w0ihg().b[5][0]++;cov_210m6w0ihg().s[11]++;return res.status(400).json({error:'contenu trop long (max 5000)'});}else{cov_210m6w0ihg().b[5][1]++;}cov_210m6w0ihg().s[12]++;if(recipient_id===String(req.user._id)){cov_210m6w0ihg().b[6][0]++;cov_210m6w0ihg().s[13]++;return res.status(400).json({error:'impossible de s\'envoyer un message à soi-même'});}else{cov_210m6w0ihg().b[6][1]++;}const recipient=(cov_210m6w0ihg().s[14]++,await User.findById(recipient_id).select('_id'));cov_210m6w0ihg().s[15]++;if(!recipient){cov_210m6w0ihg().b[7][0]++;cov_210m6w0ihg().s[16]++;return res.status(404).json({error:'destinataire introuvable'});}else{cov_210m6w0ihg().b[7][1]++;}const msg=(cov_210m6w0ihg().s[17]++,await Message.create({sender:req.user._id,recipient:recipient._id,content:content.trim(),status:'sent'}));cov_210m6w0ihg().s[18]++;return res.status(201).json(msg);}catch(err){cov_210m6w0ihg().s[19]++;return res.status(500).json({error:'Erreur serveur'});}};// GET /api/messages/:user_id?page=1
cov_210m6w0ihg().s[20]++;exports.getMessagesWithUser=async(req,res)=>{cov_210m6w0ihg().f[1]++;cov_210m6w0ihg().s[21]++;try{const{user_id}=(cov_210m6w0ihg().s[22]++,req.params);cov_210m6w0ihg().s[23]++;if(!mongoose.isValidObjectId(user_id)){cov_210m6w0ihg().b[8][0]++;cov_210m6w0ihg().s[24]++;return res.status(400).json({error:'user_id invalide'});}else{cov_210m6w0ihg().b[8][1]++;}const page=(cov_210m6w0ihg().s[25]++,Math.max(1,parseInt((cov_210m6w0ihg().b[9][0]++,req.query.page)||(cov_210m6w0ihg().b[9][1]++,'1'),10)));const limit=(cov_210m6w0ihg().s[26]++,30);const skip=(cov_210m6w0ihg().s[27]++,(page-1)*limit);const me=(cov_210m6w0ihg().s[28]++,req.user._id);const other=(cov_210m6w0ihg().s[29]++,new mongoose.Types.ObjectId(user_id));const baseFilter=(cov_210m6w0ihg().s[30]++,{deleted:false,$or:[{sender:me,recipient:other},{sender:other,recipient:me}]});// Marquer comme lus les messages reçus de l'autre
cov_210m6w0ihg().s[31]++;await Message.updateMany({sender:other,recipient:me,status:{$ne:'read'}},{$set:{status:'read'}});const[total,messages]=(cov_210m6w0ihg().s[32]++,await Promise.all([Message.countDocuments(baseFilter),Message.find(baseFilter).sort({createdAt:-1}).skip(skip).limit(limit)]));cov_210m6w0ihg().s[33]++;return res.json({total,page,pageSize:messages.length,data:messages});}catch(err){cov_210m6w0ihg().s[34]++;return res.status(500).json({error:'Erreur serveur'});}};// GET /api/conversations
cov_210m6w0ihg().s[35]++;exports.getConversations=async(req,res)=>{cov_210m6w0ihg().f[2]++;cov_210m6w0ihg().s[36]++;try{const me=(cov_210m6w0ihg().s[37]++,req.user._id);// Agrégation par autre utilisateur: regrouper messages où me est sender ou recipient
const conv=(cov_210m6w0ihg().s[38]++,await Message.aggregate([{$match:{deleted:false,$or:[{sender:me},{recipient:me}]}},{$addFields:{other:{$cond:[{$eq:['$sender',me]},'$recipient','$sender']},isToMe:{$eq:['$recipient',me]},isUnread:{$and:[{$ne:['$status','read']},{$eq:['$recipient',me]}]}}},{$sort:{createdAt:-1}},{$group:{_id:'$other',lastMessage:{$first:'$$ROOT'},unreadCount:{$sum:{$cond:['$isUnread',1,0]}}}},{$lookup:{from:'users',localField:'_id',foreignField:'_id',as:'otherUser'}},{$unwind:'$otherUser'},{$project:{_id:0,other:{id:'$otherUser._id',username:'$otherUser.username',avatar:'$otherUser.avatar',status:'$otherUser.status',lastLogin:'$otherUser.lastLogin'},lastMessage:{_id:'$lastMessage._id',content:'$lastMessage.content',createdAt:'$lastMessage.createdAt',sender:'$lastMessage.sender',recipient:'$lastMessage.recipient',status:'$lastMessage.status'},unreadCount:1}},{$sort:{'lastMessage.createdAt':-1}}]));cov_210m6w0ihg().s[39]++;return res.json(conv);}catch(err){cov_210m6w0ihg().s[40]++;return res.status(500).json({error:'Erreur serveur'});}};// PUT /api/messages/:id
cov_210m6w0ihg().s[41]++;exports.updateMessage=async(req,res)=>{cov_210m6w0ihg().f[3]++;cov_210m6w0ihg().s[42]++;try{const{id}=(cov_210m6w0ihg().s[43]++,req.params);const{content}=(cov_210m6w0ihg().s[44]++,(cov_210m6w0ihg().b[10][0]++,req.body)||(cov_210m6w0ihg().b[10][1]++,{}));cov_210m6w0ihg().s[45]++;if(!mongoose.isValidObjectId(id)){cov_210m6w0ihg().b[11][0]++;cov_210m6w0ihg().s[46]++;return res.status(400).json({error:'id invalide'});}else{cov_210m6w0ihg().b[11][1]++;}cov_210m6w0ihg().s[47]++;if((cov_210m6w0ihg().b[13][0]++,!content)||(cov_210m6w0ihg().b[13][1]++,typeof content!=='string')||(cov_210m6w0ihg().b[13][2]++,content.trim().length===0)){cov_210m6w0ihg().b[12][0]++;cov_210m6w0ihg().s[48]++;return res.status(400).json({error:'contenu requis'});}else{cov_210m6w0ihg().b[12][1]++;}cov_210m6w0ihg().s[49]++;if(content.length>5000){cov_210m6w0ihg().b[14][0]++;cov_210m6w0ihg().s[50]++;return res.status(400).json({error:'contenu trop long (max 5000)'});}else{cov_210m6w0ihg().b[14][1]++;}const msg=(cov_210m6w0ihg().s[51]++,await Message.findById(id));cov_210m6w0ihg().s[52]++;if(!msg){cov_210m6w0ihg().b[15][0]++;cov_210m6w0ihg().s[53]++;return res.status(404).json({error:'message introuvable'});}else{cov_210m6w0ihg().b[15][1]++;}cov_210m6w0ihg().s[54]++;if(String(msg.sender)!==String(req.user._id)){cov_210m6w0ihg().b[16][0]++;cov_210m6w0ihg().s[55]++;return res.status(403).json({error:'forbidden'});}else{cov_210m6w0ihg().b[16][1]++;}cov_210m6w0ihg().s[56]++;msg.content=content.trim();cov_210m6w0ihg().s[57]++;msg.edited=true;cov_210m6w0ihg().s[58]++;await msg.save();cov_210m6w0ihg().s[59]++;return res.json(msg);}catch(err){cov_210m6w0ihg().s[60]++;return res.status(500).json({error:'Erreur serveur'});}};// DELETE /api/messages/:id (soft delete)
cov_210m6w0ihg().s[61]++;exports.deleteMessage=async(req,res)=>{cov_210m6w0ihg().f[4]++;cov_210m6w0ihg().s[62]++;try{const{id}=(cov_210m6w0ihg().s[63]++,req.params);cov_210m6w0ihg().s[64]++;if(!mongoose.isValidObjectId(id)){cov_210m6w0ihg().b[17][0]++;cov_210m6w0ihg().s[65]++;return res.status(400).json({error:'id invalide'});}else{cov_210m6w0ihg().b[17][1]++;}const msg=(cov_210m6w0ihg().s[66]++,await Message.findById(id));cov_210m6w0ihg().s[67]++;if(!msg){cov_210m6w0ihg().b[18][0]++;cov_210m6w0ihg().s[68]++;return res.status(404).json({error:'message introuvable'});}else{cov_210m6w0ihg().b[18][1]++;}cov_210m6w0ihg().s[69]++;if(String(msg.sender)!==String(req.user._id)){cov_210m6w0ihg().b[19][0]++;cov_210m6w0ihg().s[70]++;return res.status(403).json({error:'forbidden'});}else{cov_210m6w0ihg().b[19][1]++;}cov_210m6w0ihg().s[71]++;msg.deleted=true;cov_210m6w0ihg().s[72]++;await msg.save();cov_210m6w0ihg().s[73]++;return res.json({ok:true});}catch(err){cov_210m6w0ihg().s[74]++;return res.status(500).json({error:'Erreur serveur'});}};// POST /api/messages/:id/read
cov_210m6w0ihg().s[75]++;exports.markRead=async(req,res)=>{cov_210m6w0ihg().f[5]++;cov_210m6w0ihg().s[76]++;try{const{id}=(cov_210m6w0ihg().s[77]++,req.params);cov_210m6w0ihg().s[78]++;if(!mongoose.isValidObjectId(id)){cov_210m6w0ihg().b[20][0]++;cov_210m6w0ihg().s[79]++;return res.status(400).json({error:'id invalide'});}else{cov_210m6w0ihg().b[20][1]++;}const msg=(cov_210m6w0ihg().s[80]++,await Message.findById(id));cov_210m6w0ihg().s[81]++;if(!msg){cov_210m6w0ihg().b[21][0]++;cov_210m6w0ihg().s[82]++;return res.status(404).json({error:'message introuvable'});}else{cov_210m6w0ihg().b[21][1]++;}cov_210m6w0ihg().s[83]++;if(String(msg.recipient)!==String(req.user._id)){cov_210m6w0ihg().b[22][0]++;cov_210m6w0ihg().s[84]++;return res.status(403).json({error:'forbidden'});}else{cov_210m6w0ihg().b[22][1]++;}cov_210m6w0ihg().s[85]++;if(msg.status!=='read'){cov_210m6w0ihg().b[23][0]++;cov_210m6w0ihg().s[86]++;msg.status='read';cov_210m6w0ihg().s[87]++;await msg.save();}else{cov_210m6w0ihg().b[23][1]++;}cov_210m6w0ihg().s[88]++;return res.json({ok:true});}catch(err){cov_210m6w0ihg().s[89]++;return res.status(500).json({error:'Erreur serveur'});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjEwbTZ3MGloZyIsImFjdHVhbENvdmVyYWdlIiwibW9uZ29vc2UiLCJzIiwicmVxdWlyZSIsIk1lc3NhZ2UiLCJVc2VyIiwiZXhwb3J0cyIsImNyZWF0ZU1lc3NhZ2UiLCJyZXEiLCJyZXMiLCJmIiwicmVjaXBpZW50X2lkIiwiY29udGVudCIsImIiLCJib2R5IiwiaXNWYWxpZE9iamVjdElkIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidHJpbSIsImxlbmd0aCIsIlN0cmluZyIsInVzZXIiLCJfaWQiLCJyZWNpcGllbnQiLCJmaW5kQnlJZCIsInNlbGVjdCIsIm1zZyIsImNyZWF0ZSIsInNlbmRlciIsImVyciIsImdldE1lc3NhZ2VzV2l0aFVzZXIiLCJ1c2VyX2lkIiwicGFyYW1zIiwicGFnZSIsIk1hdGgiLCJtYXgiLCJwYXJzZUludCIsInF1ZXJ5IiwibGltaXQiLCJza2lwIiwibWUiLCJvdGhlciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJiYXNlRmlsdGVyIiwiZGVsZXRlZCIsIiRvciIsInVwZGF0ZU1hbnkiLCIkbmUiLCIkc2V0IiwidG90YWwiLCJtZXNzYWdlcyIsIlByb21pc2UiLCJhbGwiLCJjb3VudERvY3VtZW50cyIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwicGFnZVNpemUiLCJkYXRhIiwiZ2V0Q29udmVyc2F0aW9ucyIsImNvbnYiLCJhZ2dyZWdhdGUiLCIkbWF0Y2giLCIkYWRkRmllbGRzIiwiJGNvbmQiLCIkZXEiLCJpc1RvTWUiLCJpc1VucmVhZCIsIiRhbmQiLCIkc29ydCIsIiRncm91cCIsImxhc3RNZXNzYWdlIiwiJGZpcnN0IiwidW5yZWFkQ291bnQiLCIkc3VtIiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkdW53aW5kIiwiJHByb2plY3QiLCJpZCIsInVzZXJuYW1lIiwiYXZhdGFyIiwibGFzdExvZ2luIiwidXBkYXRlTWVzc2FnZSIsImVkaXRlZCIsInNhdmUiLCJkZWxldGVNZXNzYWdlIiwib2siLCJtYXJrUmVhZCJdLCJzb3VyY2VzIjpbIm1lc3NhZ2VDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgTWVzc2FnZSA9IHJlcXVpcmUoJy4uL21vZGVscy9NZXNzYWdlJyk7XHJcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpO1xyXG5cclxuLy8gUE9TVCAvYXBpL21lc3NhZ2VzXHJcbmV4cG9ydHMuY3JlYXRlTWVzc2FnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHJlY2lwaWVudF9pZCwgY29udGVudCB9ID0gcmVxLmJvZHkgfHwge307XHJcbiAgICBpZiAoIXJlY2lwaWVudF9pZCB8fCAhbW9uZ29vc2UuaXNWYWxpZE9iamVjdElkKHJlY2lwaWVudF9pZCkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdyZWNpcGllbnRfaWQgaW52YWxpZGUnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFjb250ZW50IHx8IHR5cGVvZiBjb250ZW50ICE9PSAnc3RyaW5nJyB8fCBjb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdjb250ZW51IHJlcXVpcycgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29udGVudC5sZW5ndGggPiA1MDAwKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnY29udGVudSB0cm9wIGxvbmcgKG1heCA1MDAwKScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlY2lwaWVudF9pZCA9PT0gU3RyaW5nKHJlcS51c2VyLl9pZCkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdpbXBvc3NpYmxlIGRlIHNcXCdlbnZveWVyIHVuIG1lc3NhZ2Ugw6Agc29pLW3Dqm1lJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNpcGllbnQgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHJlY2lwaWVudF9pZCkuc2VsZWN0KCdfaWQnKTtcclxuICAgIGlmICghcmVjaXBpZW50KSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ2Rlc3RpbmF0YWlyZSBpbnRyb3V2YWJsZScgfSk7XHJcblxyXG4gICAgY29uc3QgbXNnID0gYXdhaXQgTWVzc2FnZS5jcmVhdGUoe1xyXG4gICAgICBzZW5kZXI6IHJlcS51c2VyLl9pZCxcclxuICAgICAgcmVjaXBpZW50OiByZWNpcGllbnQuX2lkLFxyXG4gICAgICBjb250ZW50OiBjb250ZW50LnRyaW0oKSxcclxuICAgICAgc3RhdHVzOiAnc2VudCcsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24obXNnKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyZXVyIHNlcnZldXInIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdFVCAvYXBpL21lc3NhZ2VzLzp1c2VyX2lkP3BhZ2U9MVxyXG5leHBvcnRzLmdldE1lc3NhZ2VzV2l0aFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VyX2lkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgaWYgKCFtb25nb29zZS5pc1ZhbGlkT2JqZWN0SWQodXNlcl9pZCkpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAndXNlcl9pZCBpbnZhbGlkZScgfSk7XHJcblxyXG4gICAgY29uc3QgcGFnZSA9IE1hdGgubWF4KDEsIHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlIHx8ICcxJywgMTApKTtcclxuICAgIGNvbnN0IGxpbWl0ID0gMzA7XHJcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xyXG5cclxuICAgIGNvbnN0IG1lID0gcmVxLnVzZXIuX2lkO1xyXG4gICAgY29uc3Qgb3RoZXIgPSBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQodXNlcl9pZCk7XHJcblxyXG4gICAgY29uc3QgYmFzZUZpbHRlciA9IHtcclxuICAgICAgZGVsZXRlZDogZmFsc2UsXHJcbiAgICAgICRvcjogW1xyXG4gICAgICAgIHsgc2VuZGVyOiBtZSwgcmVjaXBpZW50OiBvdGhlciB9LFxyXG4gICAgICAgIHsgc2VuZGVyOiBvdGhlciwgcmVjaXBpZW50OiBtZSB9LFxyXG4gICAgICBdLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBNYXJxdWVyIGNvbW1lIGx1cyBsZXMgbWVzc2FnZXMgcmXDp3VzIGRlIGwnYXV0cmVcclxuICAgIGF3YWl0IE1lc3NhZ2UudXBkYXRlTWFueSh7IHNlbmRlcjogb3RoZXIsIHJlY2lwaWVudDogbWUsIHN0YXR1czogeyAkbmU6ICdyZWFkJyB9IH0sIHsgJHNldDogeyBzdGF0dXM6ICdyZWFkJyB9IH0pO1xyXG5cclxuICAgIGNvbnN0IFt0b3RhbCwgbWVzc2FnZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBNZXNzYWdlLmNvdW50RG9jdW1lbnRzKGJhc2VGaWx0ZXIpLFxyXG4gICAgICBNZXNzYWdlLmZpbmQoYmFzZUZpbHRlcikuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSkuc2tpcChza2lwKS5saW1pdChsaW1pdCksXHJcbiAgICBdKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyB0b3RhbCwgcGFnZSwgcGFnZVNpemU6IG1lc3NhZ2VzLmxlbmd0aCwgZGF0YTogbWVzc2FnZXMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0VycmV1ciBzZXJ2ZXVyJyB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHRVQgL2FwaS9jb252ZXJzYXRpb25zXHJcbmV4cG9ydHMuZ2V0Q29udmVyc2F0aW9ucyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZSA9IHJlcS51c2VyLl9pZDtcclxuXHJcbiAgICAvLyBBZ3LDqWdhdGlvbiBwYXIgYXV0cmUgdXRpbGlzYXRldXI6IHJlZ3JvdXBlciBtZXNzYWdlcyBvw7kgbWUgZXN0IHNlbmRlciBvdSByZWNpcGllbnRcclxuICAgIGNvbnN0IGNvbnYgPSBhd2FpdCBNZXNzYWdlLmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkbWF0Y2g6IHtcclxuICAgICAgICAgIGRlbGV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgJG9yOiBbeyBzZW5kZXI6IG1lIH0sIHsgcmVjaXBpZW50OiBtZSB9XSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJGFkZEZpZWxkczoge1xyXG4gICAgICAgICAgb3RoZXI6IHtcclxuICAgICAgICAgICAgJGNvbmQ6IFt7ICRlcTogWyckc2VuZGVyJywgbWVdIH0sICckcmVjaXBpZW50JywgJyRzZW5kZXInXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBpc1RvTWU6IHsgJGVxOiBbJyRyZWNpcGllbnQnLCBtZV0gfSxcclxuICAgICAgICAgIGlzVW5yZWFkOiB7ICRhbmQ6IFt7ICRuZTogWyckc3RhdHVzJywgJ3JlYWQnXSB9LCB7ICRlcTogWyckcmVjaXBpZW50JywgbWVdIH1dIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzb3J0OiB7IGNyZWF0ZWRBdDogLTEgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgX2lkOiAnJG90aGVyJyxcclxuICAgICAgICAgIGxhc3RNZXNzYWdlOiB7ICRmaXJzdDogJyQkUk9PVCcgfSxcclxuICAgICAgICAgIHVucmVhZENvdW50OiB7ICRzdW06IHsgJGNvbmQ6IFsnJGlzVW5yZWFkJywgMSwgMF0gfSB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkbG9va3VwOiB7XHJcbiAgICAgICAgICBmcm9tOiAndXNlcnMnLFxyXG4gICAgICAgICAgbG9jYWxGaWVsZDogJ19pZCcsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6ICdfaWQnLFxyXG4gICAgICAgICAgYXM6ICdvdGhlclVzZXInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgJHVud2luZDogJyRvdGhlclVzZXInIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkcHJvamVjdDoge1xyXG4gICAgICAgICAgX2lkOiAwLFxyXG4gICAgICAgICAgb3RoZXI6IHtcclxuICAgICAgICAgICAgaWQ6ICckb3RoZXJVc2VyLl9pZCcsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiAnJG90aGVyVXNlci51c2VybmFtZScsXHJcbiAgICAgICAgICAgIGF2YXRhcjogJyRvdGhlclVzZXIuYXZhdGFyJyxcclxuICAgICAgICAgICAgc3RhdHVzOiAnJG90aGVyVXNlci5zdGF0dXMnLFxyXG4gICAgICAgICAgICBsYXN0TG9naW46ICckb3RoZXJVc2VyLmxhc3RMb2dpbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbGFzdE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgX2lkOiAnJGxhc3RNZXNzYWdlLl9pZCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICckbGFzdE1lc3NhZ2UuY29udGVudCcsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogJyRsYXN0TWVzc2FnZS5jcmVhdGVkQXQnLFxyXG4gICAgICAgICAgICBzZW5kZXI6ICckbGFzdE1lc3NhZ2Uuc2VuZGVyJyxcclxuICAgICAgICAgICAgcmVjaXBpZW50OiAnJGxhc3RNZXNzYWdlLnJlY2lwaWVudCcsXHJcbiAgICAgICAgICAgIHN0YXR1czogJyRsYXN0TWVzc2FnZS5zdGF0dXMnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHVucmVhZENvdW50OiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgJHNvcnQ6IHsgJ2xhc3RNZXNzYWdlLmNyZWF0ZWRBdCc6IC0xIH0gfSxcclxuICAgIF0pO1xyXG5cclxuICAgIHJldHVybiByZXMuanNvbihjb252KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyZXVyIHNlcnZldXInIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFBVVCAvYXBpL21lc3NhZ2VzLzppZFxyXG5leHBvcnRzLnVwZGF0ZU1lc3NhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHsgY29udGVudCB9ID0gcmVxLmJvZHkgfHwge307XHJcbiAgICBpZiAoIW1vbmdvb3NlLmlzVmFsaWRPYmplY3RJZChpZCkpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnaWQgaW52YWxpZGUnIH0pO1xyXG4gICAgaWYgKCFjb250ZW50IHx8IHR5cGVvZiBjb250ZW50ICE9PSAnc3RyaW5nJyB8fCBjb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdjb250ZW51IHJlcXVpcycgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29udGVudC5sZW5ndGggPiA1MDAwKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ2NvbnRlbnUgdHJvcCBsb25nIChtYXggNTAwMCknIH0pO1xyXG5cclxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IE1lc3NhZ2UuZmluZEJ5SWQoaWQpO1xyXG4gICAgaWYgKCFtc2cpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnbWVzc2FnZSBpbnRyb3V2YWJsZScgfSk7XHJcbiAgICBpZiAoU3RyaW5nKG1zZy5zZW5kZXIpICE9PSBTdHJpbmcocmVxLnVzZXIuX2lkKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdmb3JiaWRkZW4nIH0pO1xyXG5cclxuICAgIG1zZy5jb250ZW50ID0gY29udGVudC50cmltKCk7XHJcbiAgICBtc2cuZWRpdGVkID0gdHJ1ZTtcclxuICAgIGF3YWl0IG1zZy5zYXZlKCk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24obXNnKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyZXVyIHNlcnZldXInIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERFTEVURSAvYXBpL21lc3NhZ2VzLzppZCAoc29mdCBkZWxldGUpXHJcbmV4cG9ydHMuZGVsZXRlTWVzc2FnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgaWYgKCFtb25nb29zZS5pc1ZhbGlkT2JqZWN0SWQoaWQpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ2lkIGludmFsaWRlJyB9KTtcclxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IE1lc3NhZ2UuZmluZEJ5SWQoaWQpO1xyXG4gICAgaWYgKCFtc2cpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnbWVzc2FnZSBpbnRyb3V2YWJsZScgfSk7XHJcbiAgICBpZiAoU3RyaW5nKG1zZy5zZW5kZXIpICE9PSBTdHJpbmcocmVxLnVzZXIuX2lkKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdmb3JiaWRkZW4nIH0pO1xyXG5cclxuICAgIG1zZy5kZWxldGVkID0gdHJ1ZTtcclxuICAgIGF3YWl0IG1zZy5zYXZlKCk7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oeyBvazogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJyZXVyIHNlcnZldXInIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFBPU1QgL2FwaS9tZXNzYWdlcy86aWQvcmVhZFxyXG5leHBvcnRzLm1hcmtSZWFkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBpZiAoIW1vbmdvb3NlLmlzVmFsaWRPYmplY3RJZChpZCkpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnaWQgaW52YWxpZGUnIH0pO1xyXG5cclxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IE1lc3NhZ2UuZmluZEJ5SWQoaWQpO1xyXG4gICAgaWYgKCFtc2cpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnbWVzc2FnZSBpbnRyb3V2YWJsZScgfSk7XHJcbiAgICBpZiAoU3RyaW5nKG1zZy5yZWNpcGllbnQpICE9PSBTdHJpbmcocmVxLnVzZXIuX2lkKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdmb3JiaWRkZW4nIH0pO1xyXG5cclxuICAgIGlmIChtc2cuc3RhdHVzICE9PSAncmVhZCcpIHtcclxuICAgICAgbXNnLnN0YXR1cyA9ICdyZWFkJztcclxuICAgICAgYXdhaXQgbXNnLnNhdmUoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuanNvbih7IG9rOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJldXIgc2VydmV1cicgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFw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